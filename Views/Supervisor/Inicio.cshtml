@model ALFINapp.API.Models.ViewInicioSupervisor

@section Styles {
    <link rel="stylesheet" href="~/css/main_page.css">
}

<div class="container mt-4">
    <div class="row mb-4">
        <div class="col-12 text-center">
            <h2>Bienvenido, @Model.Supervisor.NombresCompletos</h2>
            <p class="text-muted">Este es tu panel de inicio</p>
        </div>
    </div>

    <div class="row justify-content-center">
        <!-- Información básica -->
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    Información del Supervisor
                </div>
                <div class="card-body">
                    <p><strong>DNI:</strong> @Model.Supervisor.Dni</p>
                    <p><strong>Rol:</strong> @Model.Supervisor.Rol</p>
                    <p><strong>Teléfono:</strong> @Model.Supervisor.Telefono</p>
                    <p><strong>Correo:</strong> @Model.Supervisor.Correo</p>
                    <p><strong>Ubicación:</strong> @Model.Supervisor.Departamento, @Model.Supervisor.Provincia, @Model.Supervisor.Distrito</p>
                    <p><strong>Fecha de Registro:</strong> @Model.Supervisor.FechaRegistro?.ToString("dd/MM/yyyy")</p>
                </div>
            </div>
        </div>

        <!-- Información de campaña -->
        <div class="col-md-6 mt-4 mt-md-0">
            <div class="card shadow-sm">
                <div class="card-header bg-success text-white">
                    Campaña Actual
                </div>
                <div class="card-body">
                    <p><strong>Nombre de Campaña:</strong> @Model.Supervisor.NOMBRECAMPAÑA</p>
                    <p><strong>Responsable Supervisor:</strong> @Model.Supervisor.RESPONSABLESUP</p>
                    <p><strong>Región:</strong> @Model.Supervisor.REGION</p>
                    <p><strong>Fecha de Inicio:</strong> @Model.Supervisor.FechaInicio?.ToString("dd/MM/yyyy")</p>
                    <p><strong>Fecha de Cese:</strong> @Model.Supervisor.FechaCese?.ToString("dd/MM/yyyy")</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Botones rápidos (puedes enlazar acciones futuras aquí) -->
    <div class="row mt-5">
        <div class="col-12 text-center">
            <a class="btn btn-outline-primary me-2" href="@Url.Action("Gestion", "Leads")">Ver Clientes</a>
            <a class="btn btn-outline-secondary" href="@Url.Action("Reportes", "Reportes")">Ver Reportes</a>
        </div>
    </div>
</div>

<!-- Modal reutilizable -->
<div class="modal fade" id="GeneralTemplateModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true" data-bs-focus="false">
    <div class="modal-dialog modal-lg modal-dialog-centered modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="GeneralTemplateTitleModalLabel"></h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="modalContentGeneralTemplate">
                    @* Acá se cargará dinámicamente el contenido del modal *@
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @if (TempData["Message"] != null)
    {
        <script>
            Swal.fire({
                title: 'Mensaje', // Título del mensaje
                text: '@Html.Raw(TempData["Message"] as string)', // Usamos Html.Raw para evitar que se escape el texto
                icon: 'info', // Tipo de ícono (info, success, error, warning)
                confirmButtonText: 'Aceptar' // Texto del botón de confirmación
            });
        </script>
    }

    @if (TempData["MessageError"] != null)
    {
        <script>
            Swal.fire({
                title: 'Error', // Título del mensaje
                text: '@Html.Raw(TempData["MessageError"] as string)', // Usamos Html.Raw para evitar que se escape el texto
                icon: 'error', // Tipo de ícono (info, success, error, warning)
                confirmButtonText: 'Aceptar' // Texto del botón de confirmación
            });
        </script>
    }
}